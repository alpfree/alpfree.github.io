<!DOCTYPE html>
<html lang="en" dir="auto" data-theme="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
<title>昂瑞微 IPO定价分析报告 | AlphaFree</title>
<meta name="keywords" content="">
<meta name="description" content="免责声明
本解析完全基于报告文本内容，不构成任何投资建议。
1. 业务与募投分析 (Business &amp; Proceeds)

商业模式：
昂瑞微是一家典型的Fabless（无晶圆厂）集成电路设计企业，核心通过研发射频前端芯片（RF Front-End）和射频SoC芯片（蓝牙/IoT），销售给荣耀、小米、三星等移动终端及物联网客户来获取利润。
募投项目解析：

本次拟募集资金总额约 20.67亿元。
资金用途：全部用于核心技术升级（5G射频前端、射频SoC）及总部/研发中心建设。
定性判断：利好。公司未将募集资金用于补充流动资金或偿还贷款，而是全额投入高技术壁垒的研发（如L-PAMiD模组）和固定资产建设，显示出公司处于扩张期，且致力于解决“卡脖子”技术问题。


市场地位：

国内梯队：国内射频前端发射端（PA）主要厂商之一，2024年营收规模（21.01亿元）在以发射端为主的国产厂商中排名前三（对比唯捷创芯、飞骧科技）。
核心突破：在技术难度最高的5G L-PAMiD模组上率先实现对品牌客户（荣耀、小米等）大规模量产，打破国际垄断，这是其最大的估值溢价点。
全球份额：2024年射频前端全球市占率约1.03%，射频SoC（蓝牙）全球市占率约5.4%。



2. 财务质量检查 (Financial Quality)

成长性分析：

营收CAGR：2022年（9.23亿）至2024年（21.01亿），年均复合增长率约为 50.88%。成长速度极快，远超行业平均水平。
短期波动风险：2025年1-6月营收8.44亿元，同比下滑20.69%（受主要客户科芯通讯调整采购节奏影响），显示出业绩高增长后的短期回调压力。


盈利质量：

净利润：报告期内持续亏损（2024年亏损0.65亿元），尚未实现盈利。
现金流：经营活动现金流净额在2025年1-6月转正（&#43;0.75亿元），此前三年均为负。
判断：虽然处于亏损状态，但亏损幅度逐年大幅收窄（从2022年亏2.9亿到2024年亏0.65亿），且经营现金流转正，说明造血能力正在形成，属于典型的科创板未盈利上市模型。



3. 行业对标分析 (Peer Comparison)
选取招股书中披露的同行业可比上市公司：唯捷创芯 (688153.SH)、慧智微 (688512.SH)、飞骧科技（拟上市）、泰凌微 (688591.SH)。

  
      
          指标 (2024年度)
          昂瑞微 (发行人)
          唯捷创芯 (对标龙头)
          慧智微
          泰凌微 (SoC对标)
      
  
  
      
          营业收入 (亿元)
          21.01
          21.03
          5.24
          8.44
      
      
          综合毛利率
          20.22%
          23.75%
          1.90%
          48.34%
      
      
          净利润 (亿元)
          -0.65
          -0.24
          -4.38
          0.97
      
  


对比结论：

营收规模：昂瑞微与行业龙头唯捷创芯相当，远高于慧智微和泰凌微，具备规模效应基础。
毛利率劣势：20.22%的毛利率低于唯捷创芯（23.75%）和SoC厂商泰凌微（48.34%）。这说明昂瑞微为了抢占市场（特别是模组产品），采用了较激进的定价策略，或者产品组合中低毛利产品仍有占比。
估值逻辑：昂瑞微的估值应紧贴唯捷创芯，但由于毛利率略低且2025H1营收下滑，应给予一定的流动性折价。



4. 估值与询价 (Valuation &amp; Pricing)
由于公司尚未盈利，不适用P/E估值法。我们将采用 P/S（市销率） 法，并以募资需求作为底线验证。">
<meta name="author" content="">
<link rel="canonical" href="http://localhost:1313/post/%E6%98%82%E7%91%9E%E5%BE%AE-ipo%E5%AE%9A%E4%BB%B7%E5%88%86%E6%9E%90%E6%8A%A5%E5%91%8A/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.9689f69d2167f1e9ecf44dd28736dac971703cead4d883f5d68fe9524e5e3b48.css" integrity="sha256-lon2nSFn8ens9E3ShzbayXFwPOrU2IP11o/pUk5eO0g=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="http://localhost:1313/post/%E6%98%82%E7%91%9E%E5%BE%AE-ipo%E5%AE%9A%E4%BB%B7%E5%88%86%E6%9E%90%E6%8A%A5%E5%91%8A/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
                color-scheme: dark;
            }

            .list {
                background: var(--theme);
            }

            .toc {
                background: var(--entry);
            }
        }

        @media (prefers-color-scheme: light) {
            .list::-webkit-scrollbar-thumb {
                border-color: var(--code-bg);
            }
        }

    </style>
</noscript>
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.querySelector("html").dataset.theme = 'dark';
    } else if (localStorage.getItem("pref-theme") === "light") {
       document.querySelector("html").dataset.theme = 'light';
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.querySelector("html").dataset.theme = 'dark';
    } else {
        document.querySelector("html").dataset.theme = 'light';
    }

</script>
</head>
<body id="top">
    <header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="AlphaFree (Alt + H)">AlphaFree</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      昂瑞微 IPO定价分析报告
      <span class="entry-hint" title="Draft">
        <svg xmlns="http://www.w3.org/2000/svg" height="35" viewBox="0 -960 960 960" fill="currentColor">
          <path
            d="M160-410v-60h300v60H160Zm0-165v-60h470v60H160Zm0-165v-60h470v60H160Zm360 580v-123l221-220q9-9 20-13t22-4q12 0 23 4.5t20 13.5l37 37q9 9 13 20t4 22q0 11-4.5 22.5T862.09-380L643-160H520Zm300-263-37-37 37 37ZM580-220h38l121-122-18-19-19-18-122 121v38Zm141-141-19-18 37 37-18-19Z" />
        </svg>
      </span>
    </h1>
    <div class="post-meta"><span title='2025-12-02 17:06:46 +0800 CST'>December 2, 2025</span>

</div>
  </header> <div class="toc">
    <details  open>
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul><ul><ul><ul>
                <li>
                    <a href="#%e5%85%8d%e8%b4%a3%e5%a3%b0%e6%98%8e" aria-label="免责声明">免责声明</a></li></ul>
                    
                <li>
                    <a href="#1-%e4%b8%9a%e5%8a%a1%e4%b8%8e%e5%8b%9f%e6%8a%95%e5%88%86%e6%9e%90-business--proceeds" aria-label="1. 业务与募投分析 (Business &amp; Proceeds)">1. 业务与募投分析 (Business &amp; Proceeds)</a></li>
                <li>
                    <a href="#2-%e8%b4%a2%e5%8a%a1%e8%b4%a8%e9%87%8f%e6%a3%80%e6%9f%a5-financial-quality" aria-label="2. 财务质量检查 (Financial Quality)">2. 财务质量检查 (Financial Quality)</a></li>
                <li>
                    <a href="#3-%e8%a1%8c%e4%b8%9a%e5%af%b9%e6%a0%87%e5%88%86%e6%9e%90-peer-comparison" aria-label="3. 行业对标分析 (Peer Comparison)">3. 行业对标分析 (Peer Comparison)</a></li>
                <li>
                    <a href="#4-%e4%bc%b0%e5%80%bc%e4%b8%8e%e8%af%a2%e4%bb%b7-valuation--pricing" aria-label="4. 估值与询价 (Valuation &amp; Pricing)">4. 估值与询价 (Valuation &amp; Pricing)</a><ul>
                        
                <li>
                    <a href="#%e6%96%b9%e6%b3%95aps-%e7%9b%b8%e5%af%b9%e4%bc%b0%e5%80%bc%e6%b3%95" aria-label="方法A：P/S 相对估值法">方法A：P/S 相对估值法</a></li>
                <li>
                    <a href="#%e6%96%b9%e6%b3%95b%e5%8b%9f%e8%b5%84%e9%9c%80%e6%b1%82%e5%80%92%e7%ae%97%e6%b3%95-%e5%ba%95%e7%ba%bf%e6%80%9d%e7%bb%b4" aria-label="方法B：募资需求倒算法 (底线思维)">方法B：募资需求倒算法 (底线思维)</a></li></ul>
                </li>
                <li>
                    <a href="#5-%e7%bb%93%e8%ae%ba%e4%b8%8e%e8%af%a2%e4%bb%b7%e5%bb%ba%e8%ae%ae-conclusion" aria-label="5. 结论与询价建议 (Conclusion)">5. 结论与询价建议 (Conclusion)</a></li></ul>
                    </ul>
                    
                <li>
                    <a href="#cny-9150---10250--%e8%82%a1" aria-label="CNY 91.50 - 102.50 / 股">CNY 91.50 - 102.50 / 股</a><ul>
                        <ul>
                        
                <li>
                    <a href="#%e4%b8%bb%e8%a6%81%e9%a3%8e%e9%99%a9%e6%8f%90%e7%a4%ba" aria-label="主要风险提示">主要风险提示</a>
                </li>
            </ul>
            </ul>
            </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><h4 id="免责声明"><strong>免责声明</strong><a hidden class="anchor" aria-hidden="true" href="#免责声明">#</a></h4>
<p>本解析完全基于报告文本内容，不构成任何投资建议。</p>
<h3 id="1-业务与募投分析-business--proceeds">1. 业务与募投分析 (Business &amp; Proceeds)<a hidden class="anchor" aria-hidden="true" href="#1-业务与募投分析-business--proceeds">#</a></h3>
<ul>
<li><strong>商业模式</strong>：
昂瑞微是一家典型的<strong>Fabless（无晶圆厂）集成电路设计企业</strong>，核心通过研发射频前端芯片（RF Front-End）和射频SoC芯片（蓝牙/IoT），销售给荣耀、小米、三星等移动终端及物联网客户来获取利润。</li>
<li><strong>募投项目解析</strong>：
<ul>
<li>本次拟募集资金总额约 <strong>20.67亿元</strong>。</li>
<li><strong>资金用途</strong>：全部用于核心技术升级（5G射频前端、射频SoC）及总部/研发中心建设。</li>
<li><strong>定性判断</strong>：<strong>利好</strong>。公司未将募集资金用于补充流动资金或偿还贷款，而是全额投入高技术壁垒的研发（如L-PAMiD模组）和固定资产建设，显示出公司处于扩张期，且致力于解决“卡脖子”技术问题。</li>
</ul>
</li>
<li><strong>市场地位</strong>：
<ul>
<li><strong>国内梯队</strong>：国内射频前端发射端（PA）主要厂商之一，2024年营收规模（21.01亿元）在以发射端为主的国产厂商中排名<strong>前三</strong>（对比唯捷创芯、飞骧科技）。</li>
<li><strong>核心突破</strong>：在技术难度最高的<strong>5G L-PAMiD模组</strong>上率先实现对品牌客户（荣耀、小米等）大规模量产，打破国际垄断，这是其最大的估值溢价点。</li>
<li><strong>全球份额</strong>：2024年射频前端全球市占率约1.03%，射频SoC（蓝牙）全球市占率约5.4%。</li>
</ul>
</li>
</ul>
<h3 id="2-财务质量检查-financial-quality">2. 财务质量检查 (Financial Quality)<a hidden class="anchor" aria-hidden="true" href="#2-财务质量检查-financial-quality">#</a></h3>
<ul>
<li><strong>成长性分析</strong>：
<ul>
<li><strong>营收CAGR</strong>：2022年（9.23亿）至2024年（21.01亿），年均复合增长率约为 <strong>50.88%</strong>。成长速度极快，远超行业平均水平。</li>
<li><strong>短期波动风险</strong>：2025年1-6月营收8.44亿元，同比下滑20.69%（受主要客户科芯通讯调整采购节奏影响），显示出业绩高增长后的短期回调压力。</li>
</ul>
</li>
<li><strong>盈利质量</strong>：
<ul>
<li><strong>净利润</strong>：报告期内持续亏损（2024年亏损0.65亿元），尚未实现盈利。</li>
<li><strong>现金流</strong>：经营活动现金流净额在2025年1-6月转正（+0.75亿元），此前三年均为负。</li>
<li><strong>判断</strong>：虽然处于亏损状态，但亏损幅度逐年大幅收窄（从2022年亏2.9亿到2024年亏0.65亿），且经营现金流转正，说明<strong>造血能力正在形成</strong>，属于典型的科创板未盈利上市模型。</li>
</ul>
</li>
</ul>
<h3 id="3-行业对标分析-peer-comparison">3. 行业对标分析 (Peer Comparison)<a hidden class="anchor" aria-hidden="true" href="#3-行业对标分析-peer-comparison">#</a></h3>
<p>选取招股书中披露的同行业可比上市公司：<strong>唯捷创芯 (688153.SH)</strong>、<strong>慧智微 (688512.SH)</strong>、<strong>飞骧科技</strong>（拟上市）、<strong>泰凌微 (688591.SH)</strong>。</p>
<table>
  <thead>
      <tr>
          <th style="text-align: left">指标 (2024年度)</th>
          <th style="text-align: left">昂瑞微 (发行人)</th>
          <th style="text-align: left">唯捷创芯 (对标龙头)</th>
          <th style="text-align: left">慧智微</th>
          <th style="text-align: left">泰凌微 (SoC对标)</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: left"><strong>营业收入 (亿元)</strong></td>
          <td style="text-align: left"><strong>21.01</strong></td>
          <td style="text-align: left">21.03</td>
          <td style="text-align: left">5.24</td>
          <td style="text-align: left">8.44</td>
      </tr>
      <tr>
          <td style="text-align: left"><strong>综合毛利率</strong></td>
          <td style="text-align: left"><strong>20.22%</strong></td>
          <td style="text-align: left">23.75%</td>
          <td style="text-align: left">1.90%</td>
          <td style="text-align: left">48.34%</td>
      </tr>
      <tr>
          <td style="text-align: left"><strong>净利润 (亿元)</strong></td>
          <td style="text-align: left"><strong>-0.65</strong></td>
          <td style="text-align: left">-0.24</td>
          <td style="text-align: left">-4.38</td>
          <td style="text-align: left">0.97</td>
      </tr>
  </tbody>
</table>
<ul>
<li><strong>对比结论</strong>：
<ol>
<li><strong>营收规模</strong>：昂瑞微与行业龙头唯捷创芯相当，远高于慧智微和泰凌微，具备规模效应基础。</li>
<li><strong>毛利率劣势</strong>：20.22%的毛利率低于唯捷创芯（23.75%）和SoC厂商泰凌微（48.34%）。这说明昂瑞微为了抢占市场（特别是模组产品），采用了较激进的定价策略，或者产品组合中低毛利产品仍有占比。</li>
<li><strong>估值逻辑</strong>：昂瑞微的估值应紧贴唯捷创芯，但由于毛利率略低且2025H1营收下滑，应给予一定的<strong>流动性折价</strong>。</li>
</ol>
</li>
</ul>
<h3 id="4-估值与询价-valuation--pricing">4. 估值与询价 (Valuation &amp; Pricing)<a hidden class="anchor" aria-hidden="true" href="#4-估值与询价-valuation--pricing">#</a></h3>
<p>由于公司尚未盈利，不适用P/E估值法。我们将采用 <strong>P/S（市销率）</strong> 法，并以募资需求作为底线验证。</p>
<p><strong>基准数据</strong>：</p>
<ul>
<li><strong>发行后总股本</strong>：9,953.1688 万股（约 0.9953亿股）。</li>
<li><strong>预测营收</strong>：招股书披露2025年营收预计为19.05亿 - 22.75亿元。出于审慎原则，我们取中位数偏低值，假设 <strong>2025年营收为 20.00亿元</strong>。</li>
</ul>
<h4 id="方法aps-相对估值法">方法A：P/S 相对估值法<a hidden class="anchor" aria-hidden="true" href="#方法aps-相对估值法">#</a></h4>
<p>参考科创板射频芯片设计企业的平均估值水平：</p>
<ul>
<li>
<p>在当前市场环境下，唯捷创芯等成熟射频厂商的动态P/S通常在 4.0x - 6.0x 之间。</p>
</li>
<li>
<p>考虑到昂瑞微在L-PAMiD（高端模组）的稀缺性，给予一定溢价；但考虑到2025年营收增速放缓（预计-9%至+8%），需压低倍数。</p>
</li>
<li>
<p><strong>假设合理P/S倍数区间</strong>：<strong>4.5x - 5.5x</strong>。</p>
</li>
<li>
<p><strong>估值计算</strong>：</p>
<ul>
<li>下限市值：20.00亿营收 × 4.5x = 90.00 亿元</li>
<li>上限市值：20.00亿营收 × 5.5x = 110.00 亿元</li>
<li><strong>对应股价</strong>：
<ul>
<li>下限：90.00亿 / 0.9953亿股 ≈ <strong>90.42 元/股</strong></li>
<li>上限：110.00亿 / 0.9953亿股 ≈ <strong>110.52 元/股</strong></li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="方法b募资需求倒算法-底线思维">方法B：募资需求倒算法 (底线思维)<a hidden class="anchor" aria-hidden="true" href="#方法b募资需求倒算法-底线思维">#</a></h4>
<ul>
<li>公司计划募集资金 <strong>20.673 亿元</strong>。</li>
<li>发行新股数量 <strong>2,488.2922 万股</strong>。</li>
<li><strong>保本发行价</strong>（不考虑超募/不足）：206,730.14万元 / 2,488.2922万股 ≈ <strong>83.08 元/股</strong>。</li>
<li><strong>分析</strong>：若定价低于83.08元，则无法足额募资，可能影响项目建设。通常为了确保发行成功并覆盖发行费用，定价会较“保本价”上浮10%-20%。</li>
<li><strong>募资导向价格</strong>：83.08 × (1.1 ~ 1.2) ≈ <strong>91.39 - 99.70 元/股</strong>。</li>
</ul>
<h3 id="5-结论与询价建议-conclusion">5. 结论与询价建议 (Conclusion)<a hidden class="anchor" aria-hidden="true" href="#5-结论与询价建议-conclusion">#</a></h3>
<p>综合相对估值法（90.42 - 110.52元）和募资需求底线（&gt;83.08元），昂瑞微作为国内射频前端第一梯队企业，虽然短期面临营收波动和亏损，但其在5G高端模组的战略地位能够支撑较高的市值基础。</p>
<p><strong>建议询价区间：</strong></p>
<h1 id="cny-9150---10250--股"><strong>CNY 91.50 - 102.50 / 股</strong><a hidden class="anchor" aria-hidden="true" href="#cny-9150---10250--股">#</a></h1>
<p><strong>对应估值指标：</strong></p>
<ul>
<li><strong>预计发行市值</strong>：约 91.07亿 - 102.02亿 人民币。</li>
<li><strong>对应2024年静态P/S</strong>：约 4.3x - 4.9x。</li>
<li><strong>对应2025年动态P/S</strong>：约 4.6x - 5.1x（基于20亿营收假设）。</li>
</ul>
<h3 id="主要风险提示">主要风险提示<a hidden class="anchor" aria-hidden="true" href="#主要风险提示">#</a></h3>
<ol>
<li><strong>大客户依赖与砍单风险</strong>：报告期内前五大客户占比高达60%-75%，且2025H1主要客户A（科芯通讯）已出现采购减少，导致营收下滑。若大客户需求持续疲软，将直接击穿估值逻辑。</li>
<li><strong>存货跌价风险</strong>：存货账面余额约7.1亿元，跌价准备计提比例较高（19.12%），若消费电子复苏不及预期，巨额存货可能导致未来巨额减值，推迟盈亏平衡点（公司预计2027年盈亏平衡）。</li>
<li><strong>累计未弥补亏损</strong>：截至2025年6月，累计未弥补亏损达-12.79亿元，上市后短期内无法进行现金分红，仅适合风险偏好较高的长线投资者。</li>
</ol>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="http://localhost:1313/">AlphaFree</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu');
    if (menu) {
        
        const scrollPosition = localStorage.getItem("menu-scroll-position");
        if (scrollPosition) {
            menu.scrollLeft = parseInt(scrollPosition, 10);
        }
        
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        const html = document.querySelector("html");
        if (html.dataset.theme === "dark") {
            html.dataset.theme = 'light';
            localStorage.setItem("pref-theme", 'light');
        } else {
            html.dataset.theme = 'dark';
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
